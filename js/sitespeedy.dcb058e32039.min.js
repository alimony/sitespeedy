(function(){var ad=this;var ap=ad._;var W={};var X=Array.prototype,av=Object.prototype,ai=Function.prototype;var S=X.push,al=X.slice,ab=X.concat,ax=av.toString,aq=av.hasOwnProperty;var O=X.forEach,aj=X.map,V=X.reduce,ay=X.reduceRight,az=X.filter,Y=X.every,ak=X.some,am=X.indexOf,ao=X.lastIndexOf,af=Array.isArray,aw=Object.keys,U=ai.bind;var N=function(a){if(a instanceof N){return a}if(!(this instanceof N)){return new N(a)}this._wrapped=a};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=N}exports._=N}else{ad._=N}N.VERSION="1.4.3";var R=N.each=N.forEach=function(a,b,c){if(a==null){return}if(O&&a.forEach===O){a.forEach(b,c)}else{if(a.length===+a.length){for(var d=0,f=a.length;d<f;d++){if(b.call(c,a[d],d,a)===W){return}}}else{for(var e in a){if(N.has(a,e)){if(b.call(c,a[e],e,a)===W){return}}}}}};N.map=N.collect=function(a,b,c){var d=[];if(a==null){return d}if(aj&&a.map===aj){return a.map(b,c)}R(a,function(e,g,f){d[d.length]=b.call(c,e,g,f)});return d};var au="Reduce of empty array with no initial value";N.reduce=N.foldl=N.inject=function(a,b,e,c){var d=arguments.length>2;if(a==null){a=[]}if(V&&a.reduce===V){if(c){b=N.bind(b,c)}return d?a.reduce(b,e):a.reduce(b)}R(a,function(f,h,g){if(!d){e=f;d=true}else{e=b.call(c,e,f,h,g)}});if(!d){throw new TypeError(au)}return e};N.reduceRight=N.foldr=function(a,d,g,e){var f=arguments.length>2;if(a==null){a=[]}if(ay&&a.reduceRight===ay){if(e){d=N.bind(d,e)}return f?a.reduceRight(d,g):a.reduceRight(d)}var b=a.length;if(b!==+b){var c=N.keys(a);b=c.length}R(a,function(h,j,i){j=c?c[--b]:--b;if(!f){g=a[j];f=true}else{g=d.call(e,g,a[j],j,i)}});if(!f){throw new TypeError(au)}return g};N.find=N.detect=function(a,b,c){var d;Z(a,function(e,g,f){if(b.call(c,e,g,f)){d=e;return true}});return d};N.filter=N.select=function(a,b,c){var d=[];if(a==null){return d}if(az&&a.filter===az){return a.filter(b,c)}R(a,function(e,g,f){if(b.call(c,e,g,f)){d[d.length]=e}});return d};N.reject=function(a,b,c){return N.filter(a,function(d,f,e){return !b.call(c,d,f,e)},c)};N.every=N.all=function(a,b,c){b||(b=N.identity);var d=true;if(a==null){return d}if(Y&&a.every===Y){return a.every(b,c)}R(a,function(e,g,f){if(!(d=d&&b.call(c,e,g,f))){return W}});return !!d};var Z=N.some=N.any=function(a,b,c){b||(b=N.identity);var d=false;if(a==null){return d}if(ak&&a.some===ak){return a.some(b,c)}R(a,function(e,g,f){if(d||(d=b.call(c,e,g,f))){return W}});return !!d};N.contains=N.include=function(a,b){if(a==null){return false}if(am&&a.indexOf===am){return a.indexOf(b)!=-1}return Z(a,function(c){return c===b})};N.invoke=function(b,a){var c=al.call(arguments,2);return N.map(b,function(d){return(N.isFunction(a)?a:d[a]).apply(d,c)})};N.pluck=function(a,b){return N.map(a,function(c){return c[b]})};N.where=function(a,b){if(N.isEmpty(b)){return[]}return N.filter(a,function(c){for(var d in b){if(b[d]!==c[d]){return false}}return true})};N.max=function(a,b,c){if(!b&&N.isArray(a)&&a[0]===+a[0]&&a.length<65535){return Math.max.apply(Math,a)}if(!b&&N.isEmpty(a)){return -Infinity}var d={computed:-Infinity,value:-Infinity};R(a,function(e,h,f){var g=b?b.call(c,e,h,f):e;g>=d.computed&&(d={value:e,computed:g})});return d.value};N.min=function(a,b,c){if(!b&&N.isArray(a)&&a[0]===+a[0]&&a.length<65535){return Math.min.apply(Math,a)}if(!b&&N.isEmpty(a)){return Infinity}var d={computed:Infinity,value:Infinity};R(a,function(e,h,f){var g=b?b.call(c,e,h,f):e;g<d.computed&&(d={value:e,computed:g})});return d.value};N.shuffle=function(a){var b;var c=0;var d=[];R(a,function(e){b=N.random(c++);d[c-1]=d[b];d[b]=e});return d};var aA=function(a){return N.isFunction(a)?a:function(b){return b[a]}};N.sortBy=function(a,b,d){var c=aA(b);return N.pluck(N.map(a,function(e,g,f){return{value:e,index:g,criteria:c.call(d,e,g,f)}}).sort(function(e,f){var g=e.criteria;var h=f.criteria;if(g!==h){if(g>h||g===void 0){return 1}if(g<h||h===void 0){return -1}}return e.index<f.index?-1:1}),"value")};var ag=function(a,b,e,c){var f={};var d=aA(b||N.identity);R(a,function(g,i){var h=d.call(e,g,i,a);c(f,h,g)});return f};N.groupBy=function(a,b,c){return ag(a,b,c,function(f,e,d){(N.has(f,e)?f[e]:(f[e]=[])).push(d)})};N.countBy=function(a,b,c){return ag(a,b,c,function(e,d){if(!N.has(e,d)){e[d]=0}e[d]++})};N.sortedIndex=function(a,b,e,f){e=e==null?N.identity:aA(e);var c=e.call(f,b);var h=0,d=a.length;while(h<d){var g=(h+d)>>>1;e.call(f,a[g])<c?h=g+1:d=g}return h};N.toArray=function(a){if(!a){return[]}if(N.isArray(a)){return al.call(a)}if(a.length===+a.length){return N.map(a,N.identity)}return N.values(a)};N.size=function(a){if(a==null){return 0}return(a.length===+a.length)?a.length:N.keys(a).length};N.first=N.head=N.take=function(a,b,c){if(a==null){return void 0}return(b!=null)&&!c?al.call(a,0,b):a[0]};N.initial=function(a,b,c){return al.call(a,0,a.length-((b==null)||c?1:b))};N.last=function(a,b,c){if(a==null){return void 0}if((b!=null)&&!c){return al.call(a,Math.max(a.length-b,0))}else{return a[a.length-1]}};N.rest=N.tail=N.drop=function(a,b,c){return al.call(a,(b==null)||c?1:b)};N.compact=function(a){return N.filter(a,N.identity)};var ac=function(b,a,c){R(b,function(d){if(N.isArray(d)){a?S.apply(c,d):ac(d,a,c)}else{c.push(d)}});return c};N.flatten=function(a,b){return ac(a,b,[])};N.without=function(a){return N.difference(a,al.call(arguments,1))};N.uniq=N.unique=function(a,b,c,d){if(N.isFunction(b)){d=c;c=b;b=false}var f=c?N.map(a,c,d):a;var e=[];var g=[];R(f,function(h,i){if(b?(!i||g[g.length-1]!==h):!N.contains(g,h)){g.push(h);e.push(a[i])}});return e};N.union=function(){return N.uniq(ab.apply(X,arguments))};N.intersection=function(a){var b=al.call(arguments,1);return N.filter(N.uniq(a),function(c){return N.every(b,function(d){return N.indexOf(d,c)>=0})})};N.difference=function(a){var b=ab.apply(X,al.call(arguments,1));return N.filter(a,function(c){return !N.contains(b,c)})};N.zip=function(){var d=al.call(arguments);var a=N.max(N.pluck(d,"length"));var b=new Array(a);for(var c=0;c<a;c++){b[c]=N.pluck(d,""+c)}return b};N.object=function(a,c){if(a==null){return{}}var e={};for(var b=0,d=a.length;b<d;b++){if(c){e[a[b]]=c[b]}else{e[a[b][0]]=a[b][1]}}return e};N.indexOf=function(a,c,b){if(a==null){return -1}var d=0,e=a.length;if(b){if(typeof b=="number"){d=(b<0?Math.max(0,e+b):b)}else{d=N.sortedIndex(a,c);return a[d]===c?d:-1}}if(am&&a.indexOf===am){return a.indexOf(c,b)}for(;d<e;d++){if(a[d]===c){return d}}return -1};N.lastIndexOf=function(a,c,b){if(a==null){return -1}var e=b!=null;if(ao&&a.lastIndexOf===ao){return e?a.lastIndexOf(c,b):a.lastIndexOf(c)}var d=(e?b:a.length);while(d--){if(a[d]===c){return d}}return -1};N.range=function(a,c,b){if(arguments.length<=1){c=a||0;a=0}b=arguments[2]||1;var e=Math.max(Math.ceil((c-a)/b),0);var f=0;var d=new Array(e);while(f<e){d[f++]=a;a+=b}return d};var T=function(){};N.bind=function(a,c){var d,b;if(a.bind===U&&U){return U.apply(a,al.call(arguments,1))}if(!N.isFunction(a)){throw new TypeError}d=al.call(arguments,2);return b=function(){if(!(this instanceof b)){return a.apply(c,d.concat(al.call(arguments)))}T.prototype=a.prototype;var e=new T;T.prototype=null;var f=a.apply(e,d.concat(al.call(arguments)));if(Object(f)===f){return f}return e}};N.bindAll=function(a){var b=al.call(arguments,1);if(b.length==0){b=N.functions(a)}R(b,function(c){a[c]=N.bind(a[c],a)});return a};N.memoize=function(a,b){var c={};b||(b=N.identity);return function(){var d=b.apply(this,arguments);return N.has(c,d)?c[d]:(c[d]=a.apply(this,arguments))}};N.delay=function(b,a){var c=al.call(arguments,2);return setTimeout(function(){return b.apply(null,c)},a)};N.defer=function(a){return N.delay.apply(N,[a,1].concat(al.call(arguments,1)))};N.throttle=function(c,a){var e,f,b,h;var d=0;var g=function(){d=new Date;b=null;h=c.apply(e,f)};return function(){var j=new Date;var i=a-(j-d);e=this;f=arguments;if(i<=0){clearTimeout(b);b=null;d=j;h=c.apply(e,f)}else{if(!b){b=setTimeout(g,i)}}return h}};N.debounce=function(c,a,d){var b,e;return function(){var f=this,g=arguments;var h=function(){b=null;if(!d){e=c.apply(f,g)}};var i=d&&!b;clearTimeout(b);b=setTimeout(h,a);if(i){e=c.apply(f,g)}return e}};N.once=function(a){var c=false,b;return function(){if(c){return b}c=true;b=a.apply(this,arguments);a=null;return b}};N.wrap=function(b,a){return function(){var c=[b];S.apply(c,arguments);return a.apply(this,c)}};N.compose=function(){var a=arguments;return function(){var c=arguments;for(var b=a.length-1;b>=0;b--){c=[a[b].apply(this,c)]}return c[0]}};N.after=function(a,b){if(a<=0){return b()}return function(){if(--a<1){return b.apply(this,arguments)}}};N.keys=aw||function(a){if(a!==Object(a)){throw new TypeError("Invalid object")}var b=[];for(var c in a){if(N.has(a,c)){b[b.length]=c}}return b};N.values=function(a){var c=[];for(var b in a){if(N.has(a,b)){c.push(a[b])}}return c};N.pairs=function(a){var b=[];for(var c in a){if(N.has(a,c)){b.push([c,a[c]])}}return b};N.invert=function(a){var c={};for(var b in a){if(N.has(a,b)){c[a[b]]=b}}return c};N.functions=N.methods=function(a){var b=[];for(var c in a){if(N.isFunction(a[c])){b.push(c)}}return b.sort()};N.extend=function(a){R(al.call(arguments,1),function(c){if(c){for(var b in c){a[b]=c[b]}}});return a};N.pick=function(b){var a={};var c=ab.apply(X,al.call(arguments,1));R(c,function(d){if(d in b){a[d]=b[d]}});return a};N.omit=function(b){var a={};var c=ab.apply(X,al.call(arguments,1));for(var d in b){if(!N.contains(c,d)){a[d]=b[d]}}return a};N.defaults=function(a){R(al.call(arguments,1),function(c){if(c){for(var b in c){if(a[b]==null){a[b]=c[b]}}}});return a};N.clone=function(a){if(!N.isObject(a)){return a}return N.isArray(a)?a.slice():N.extend({},a)};N.tap=function(a,b){b(a);return a};var Q=function(d,e,j,i){if(d===e){return d!==0||1/d==1/e}if(d==null||e==null){return d===e}if(d instanceof N){d=d._wrapped}if(e instanceof N){e=e._wrapped}var g=ax.call(d);if(g!=ax.call(e)){return false}switch(g){case"[object String]":return d==String(e);case"[object Number]":return d!=+d?e!=+e:(d==0?1/d==1/e:d==+e);case"[object Date]":case"[object Boolean]":return +d==+e;case"[object RegExp]":return d.source==e.source&&d.global==e.global&&d.multiline==e.multiline&&d.ignoreCase==e.ignoreCase}if(typeof d!="object"||typeof e!="object"){return false}var k=j.length;while(k--){if(j[k]==d){return i[k]==e}}j.push(d);i.push(e);var b=0,a=true;if(g=="[object Array]"){b=d.length;a=b==e.length;if(a){while(b--){if(!(a=Q(d[b],e[b],j,i))){break}}}}else{var f=d.constructor,h=e.constructor;if(f!==h&&!(N.isFunction(f)&&(f instanceof f)&&N.isFunction(h)&&(h instanceof h))){return false}for(var c in d){if(N.has(d,c)){b++;if(!(a=N.has(e,c)&&Q(d[c],e[c],j,i))){break}}}if(a){for(c in e){if(N.has(e,c)&&!(b--)){break}}a=!b}}j.pop();i.pop();return a};N.isEqual=function(a,b){return Q(a,b,[],[])};N.isEmpty=function(a){if(a==null){return true}if(N.isArray(a)||N.isString(a)){return a.length===0}for(var b in a){if(N.has(a,b)){return false}}return true};N.isElement=function(a){return !!(a&&a.nodeType===1)};N.isArray=af||function(a){return ax.call(a)=="[object Array]"};N.isObject=function(a){return a===Object(a)};R(["Arguments","Function","String","Number","Date","RegExp"],function(a){N["is"+a]=function(b){return ax.call(b)=="[object "+a+"]"}});if(!N.isArguments(arguments)){N.isArguments=function(a){return !!(a&&N.has(a,"callee"))}}if(typeof(/./)!=="function"){N.isFunction=function(a){return typeof a==="function"}}N.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};N.isNaN=function(a){return N.isNumber(a)&&a!=+a};N.isBoolean=function(a){return a===true||a===false||ax.call(a)=="[object Boolean]"};N.isNull=function(a){return a===null};N.isUndefined=function(a){return a===void 0};N.has=function(a,b){return aq.call(a,b)};N.noConflict=function(){ad._=ap;return this};N.identity=function(a){return a};N.times=function(a,b,c){var e=Array(a);for(var d=0;d<a;d++){e[d]=b.call(c,d)}return e};N.random=function(a,b){if(b==null){b=a;a=0}return a+(0|Math.random()*(b-a+1))};var an={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};an.unescape=N.invert(an.escape);var P={escape:new RegExp("["+N.keys(an.escape).join("")+"]","g"),unescape:new RegExp("("+N.keys(an.unescape).join("|")+")","g")};N.each(["escape","unescape"],function(a){N[a]=function(b){if(b==null){return""}return(""+b).replace(P[a],function(c){return an[a][c]})}});N.result=function(c,a){if(c==null){return null}var b=c[a];return N.isFunction(b)?b.call(c):b};N.mixin=function(a){R(N.functions(a),function(c){var b=N[c]=a[c];N.prototype[c]=function(){var d=[this._wrapped];S.apply(d,arguments);return ah.call(this,b.apply(N,d))}})};var aa=0;N.uniqueId=function(b){var a=""+ ++aa;return b?b+a:a};N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ae=/(.)^/;var at={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var ar=/\\|'|\r|\n|\t|\u2028|\u2029/g;N.template=function(a,f,g){g=N.defaults({},g,N.templateSettings);var e=new RegExp([(g.escape||ae).source,(g.interpolate||ae).source,(g.evaluate||ae).source].join("|")+"|$","g");var d=0;var i="__p+='";a.replace(e,function(n,m,j,l,k){i+=a.slice(d,k).replace(ar,function(o){return"\\"+at[o]});if(m){i+="'+\n((__t=("+m+"))==null?'':_.escape(__t))+\n'"}if(j){i+="'+\n((__t=("+j+"))==null?'':__t)+\n'"}if(l){i+="';\n"+l+"\n__p+='"}d=k+n.length;return n});i+="';\n";if(!g.variable){i="with(obj||{}){\n"+i+"}\n"}i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var h=new Function(g.variable||"obj","_",i)}catch(c){c.source=i;throw c}if(f){return h(f,N)}var b=function(j){return h.call(this,j,N)};b.source="function("+(g.variable||"obj")+"){\n"+i+"}";return b};N.chain=function(a){return N(a).chain()};var ah=function(a){return this._chain?N(a).chain():a};N.mixin(N);R(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=X[b];N.prototype[b]=function(){var c=this._wrapped;a.apply(c,arguments);if((b=="shift"||b=="splice")&&c.length===0){delete c[0]}return ah.call(this,c)}});R(["concat","join","slice"],function(b){var a=X[b];N.prototype[b]=function(){return ah.call(this,a.apply(this._wrapped,arguments))}});N.extend(N.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);(function(){window.SITESPEEDY_CREDENTIALS={clientId:"168282890157.apps.googleusercontent.com",apiKey:"AIzaSyCLV4xGkRF4-mh2pd_nd-cJiaQeckr8xEU",scope:"https://www.googleapis.com/auth/analytics.readonly"};window.SITESPEEDY_DEBUG=false}());if(!SITESPEEDY_DEBUG){(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})()}(function(){function l(t){if(SITESPEEDY_DEBUG){console.log(t)}}var b,r,q;var i=[];var d=10;function h(u,t){u.removeClass("loading");if(t){u.addClass("loading")}}$(".account-selector").on("click","li:not(.selected)",function(v){v.preventDefault();var t=$(this);t.removeClass("selected").addClass("selected");var u=t.closest(".account-selector");u.find("li:not(.selected)").slideUp("fast");u.nextAll(".account-selector").slideUp("fast").empty()});window.onGoogleClientLoad=function(){gapi.client.setApiKey(SITESPEEDY_CREDENTIALS.apiKey);window.setTimeout(function(){p(true)},1)};$("#authorize-button").click(function(t){t.preventDefault();p(false)});function p(t){h($("#authorization"),true);gapi.auth.authorize({client_id:SITESPEEDY_CREDENTIALS.clientId,scope:SITESPEEDY_CREDENTIALS.scope,immediate:t},g)}function g(t){if(t){$("#authorize-button").hide();gapi.client.load("analytics","v3",k)}else{h($("#authorization"),false);$("#authorize-button").show()}}function k(){h($("#accounts"),true);gapi.client.analytics.management.accounts.list().execute(n)}$("#log-out").click(function(t){t.preventDefault();$.get("https://accounts.google.com/o/oauth2/revoke",{token:gapi.auth.getToken().access_token}).error(function(){window.setTimeout(function(){e();p(true)},1)})});function e(){$(".initially-hidden").hide();$("#username").html("").hide()}function j(u,y,v,w){var t;if(!u.code){y.empty();if(u&&u.items&&u.items.length){var x=_.sortBy(u.items,"created").reverse();_.each(x,function(z){t=$("<li />");t.attr("rel",z.id);t.text(z.name);t.one("click",w);y.append(t)})}else{t=$("<li />");t.text("No "+v+" found.");y.append(t)}}else{l(u.message);t=$("<li />");t.text("Could not get "+v+".");y.append(t)}y.show()}function n(t){h($("#authorization"),false);h($("#accounts"),false);$("#username").html(t.username).show();$("#log-out").show();j(t,$("#accounts"),"accounts",function(){h($("#web-properties"),true);b=$(this).attr("rel");gapi.client.analytics.management.webproperties.list({accountId:b}).execute(m)})}function m(t){h($("#web-properties"),false);j(t,$("#web-properties"),"web properties",function(){h($("#profiles"),true);r=$(this).attr("rel");gapi.client.analytics.management.profiles.list({accountId:b,webPropertyId:r}).execute(o)})}function o(t){h($("#profiles"),false);j(t,$("#profiles"),"profiles",function(){$("#loading-ga-data").show();$("#status-message").html("Getting top URL’s…").show();q=$(this).attr("rel");var v=s(new Date());var u=new Date();u.setMonth(u.getMonth()-1);u=s(u);gapi.client.analytics.data.ga.get({ids:"ga:"+q,"start-date":u,"end-date":v,dimensions:"ga:hostname,ga:pagePath",metrics:"ga:pageviews",sort:"-ga:pageviews","max-results":d}).execute(a)})}function a(t){if(!t.code){if(t&&t.rows&&t.rows.length){var u=_.map(t.rows,function(w){var x=w[0];var v=w[1];if(v.indexOf(x)!==-1){return v}else{return x+v}});_.each(u,function(v){i.push({url:v})});gapi.client.load("pagespeedonline","v1",f)}}}function f(){$("#loading-ga-data").hide();$("#status-message").html("Getting PageSpeed data…");$("#progress-bar-container").show();_.each(i,function(v,u){var t="http://"+v.url;gapi.client.pagespeedonline.pagespeedapi.runpagespeed({url:t}).execute(function(w){c(u,w)})})}function c(v,B){if(B.code){i.splice(v,1);l("Error "+B.code+" - "+B.message)}else{i[v].pageSpeedScore=B.score;i[v].url=B.id}var A=_.countBy(i,function(C){return _.has(C,"pageSpeedScore")});if(_.has(A,"false")){$("#progress-bar").css("width",A["true"]/(i.length-1)*100+"%")}else{$("#progress-bar-container").hide();if(i.length===0){$("#status-message").html("Found no pages to analyze.");return}$("#status-message").hide();var t=0;var z=0;var x=0;_.each(i,function(D,C){t=i.length-C;z+=t;x+=D.pageSpeedScore*t});var y=Math.round(x/z);var u=$("#score");u.html(y);u.css("color","hsl("+parseInt((y/100)*120,10)+", 60%, 40%)");u.parent().show();var w=$("#details tbody").empty();_.each(i,function(D){var C=decodeURIComponent(D.url);w.append($('<tr><td><a href="'+C+'" target="_blank">'+C+"</a></td><td>"+D.pageSpeedScore+"</td></tr>"))});$("#show-details-link").click(function(D){D.preventDefault();$("#details").slideToggle("fast");var C=$(this);if(C.hasClass("expanded")){C.html("Show details →").removeClass("expanded")}else{C.html("Hide details ←").addClass("expanded")}}).show()}}function s(u){function t(v){return v<10?"0"+v:v}return u.getFullYear()+"-"+t(u.getMonth()+1)+"-"+t(u.getDate())}}());